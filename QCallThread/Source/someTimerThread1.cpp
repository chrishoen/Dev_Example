/*==============================================================================
Description:
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include "prnPrint.h"

#include "someQCallThread1.h"

#define  _SOMETIMERTHREAD1_CPP_
#include "someTimerThread1.h"

//******************************************************************************
//******************************************************************************
//******************************************************************************

namespace Some
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Constuctor.

TimerThread1::TimerThread1()
{
   // Set base class thread priority
   BaseClass::setThreadPriorityHigh();

   // Set timer period
   BaseClass::mTimerPeriod = 1000;

   // Initialize members.
   mTPFlag = true;
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Execute periodically. This is called by the base class timer.

void TimerThread1::executeOnTimer(int aTimeCount)
{
   Prn::print(Prn::ViewRun1, "TimerThread Timer %4d",aTimeCount);

   // Guard.
   if (!mTPFlag) return;
   if (!gQCallThread1) return;

   // Send a qcall to the qcall thread.
   gQCallThread1->mDoSomething1QCall(aTimeCount);
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace